<!doctype html>
<html>

	<head>
		<title>Scratch interface for the fischertechnik BT-Smart controller</title>
		<meta charset="utf-8">
		<meta name="keywords" content="Fischertechnik ROBOTICS BT Smart controller, ROBOTICS, Scratch, Fischertechnik, BT Smart, BT Smart API">
		<link rel="stylesheet" href="../style.css" type="text/css" media="screen" />	
		<style type="text/css">
		.auto-style1 {
			text-decoration: line-through;
		}
		.auto-style2 {
			color: #008080;
		}
		.auto-style3 {
			color: #808000;
		}
		.auto-style4 {
			margin-left: 80px;
		}
		</style>
	</head>
	
	<body>
		
		<h1><span style="color:#ed1c24;">Ft</span><span style="color:#0071bc;">CvLScratchBtSmart<br>
		(Under development)</span></h1>
		<section>
			<h1>About the product</h1>
			<div class="content">
				<b>FtCvLScratch</b>BtSmart enables use of the fischertechnik
				<a href="https://www.fischertechnik.de/en/products/playing/robotics/540586-robotics-bt-smart-beginner-set">
				ROBOTICS BT Smart Controller </a>
				on a Windows 10 system together with the easy-to-learn programming language
				<a href="https://scratch.mit.edu/">Scratch</a>.
				This allows little applications for the control of motors and lamps using switches,
				light barriers and lots of other sensors to be created in a flash. The large number
				of options offered by the programming language, Scratch, means that much larger programs can be created.
				<br/><br/>

				New Scratch upgrades, such as 
				<b>FtCvLScratch</b>BtSmart , are using the developer version
				<a href="http://scratchx.org/">ScratchX</a>.
			</div>
		</section>
		
		<section>
		
			<h1>HowTo <img alt="" src="../540586-BT-SmartBeginner_Set-packshot.jpg" class="product" style="width:164"/></h1>
			
			<div class="content">
				<h2>Windows 10</h2>
			</div>
			
			<div class="content">
				<ol>
					<li>
						Connect to the Fischertechnik ROBOTICS BT Smart controller with the PC
						<small>(USB/<span class="auto-style1">Bluetooth</span>)</small>
					</li>
					<li>
						FtCvLScratchBtSmart&nbsp;
						<small>(Windows 10) (for he moment not available)</small>
					</li>
					<li>
						<a href="http://scratchx.org/?url=http://cvanleeuwenft.github.io/FtBtSmart/src/ext_FtBtSmart.js#scratch">Open</a>
						ScratchX with upgrade
						<small>(MS-Edge)</small>
					</li>
					<li>Get started!</li>
				</ol>
			</div>
			
		</section>		<section>
		
			<h1>Introduction to ROBOTICS BT-Smart controller </h1>
			
			<div class="content">
				<h2>&nbsp;</h2>
			</div>
			
			<div class="auto-style4">
				<ol>
					<li>The controller can be connected to your laptop or pc (computer) 
				by USB or BlueTooth.<br>For the moment the Scratch interface 
				works only with the USB connection.<br>Connect your BT-smart controller to 
				your computer and power supply.<br>Start the
						FtCvLScratchBtSmart&nbsp;server.<br></li>
					<li>The controller has 4 inputs. These inputs can work in 6 different modes.<br>2 modes are 
				<ul>
						<li>	<span class="auto-style2">analoque </span>and can be use to measure resistance or voltage. 
						The output is a integer betweem 0 and 65535, these 2 
						modes are:<span class="auto-style2"><ol>
					<li>'Analogue voltage',</li>
					<li>'Analogue resistance'.</li>
					</ol>
</span>
</li>
					<li>
					<br>4 mode are <span class="auto-style3">binary</span> and can be use if the input value (resistance or voltage) is above or equal/below a reference value, named limit. 
						The output is a number 0 or 1, false or true.<br>The 
						value for the limit for each input can be changed, 
						default is 1500.These modes are:<br>
					<span class="auto-style3">
						<ol>
					<li>'Binary voltage greater' ('Binary voltage'),</li>
					<li>'Binary voltage smaller or equal',</li>
					<li>'Binary resistance greater' ('Binary resistance'),</li>
					<li>'Binary resistance smaller or equal'</li>
					</ol>
					</span>
					</li></ul>
					<li>As first action in your project, you will need to set 
						the modes of the inputs.<br>Some fischertechnik 
						sensor ask for a special setting of the input 
						configuration.<br>Hereby an overview for these 
					fischertechnik sensors:
					<ul>
					<li>Color sensor: </li>
					<li>Switch:&nbsp; 
					<span class="auto-style3">Binary resistance</span> </li>
					<li>Transistor:</li>
					</ul>
					</li>
					<li>The use of the motor outputs:<br>The M1 and M2 are 
					bridged outputs, this means that the polarity can be 
					switched.<br>The motor function knows a power part&nbsp; and 
					a direction (polarity) part.<br>The power can be betweem 
					0..8<br>The direction can be:<br>
					<ol>
						<li>forward 
					(cw=clockwise), </li>
						<li>backwards (ccw=.counterclockwise)</li>
						<li>non (motor does not run).</li>
					</ol>
					</li>
					<li></li>
				</ol>
			</div>
			
		</section>
		<section id="blockDescs">
			<h1>Block description</h1>
			<p> The Scratch blocks can be placed in different groups.</p>
			<h2>Blocks to deal with the connection.</h2>
			<p>These blocks can be use to reconnect with the controller inside your project. 
			</p>
						<div class="blockDesc">
				<div class="image"><img alt="Connect image" src="onConnect.png" height="31" width="144"/></div>
				<div class="text">
					Open a new connection with the web server. (The existing connection needs to be closed first.)
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img alt="Disconnect image" src="onDisconnect.png" height="30" width="175"/></div>
				<div class="text">
					Close (Disconnect) an existing connecting with the web server.
				</div>
			</div>
			<h2>Blocks for general purpose.</h2>
			<p> </p>
			<div class="blockDesc">
				<div class="image"><img src="reset.png"/></div>
				<div class="text">
					This block resets the BT-Smart controller. All outputs are set to 0. 
				</div>
			</div>


			<h2>Blocks to deal with the inputs.</h2>
			<p> </p>
		
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Set Input Cfg analogue"/></div>
				<div class="text">
					Set the configuration for an  input I1 - I4 for analogue use; only the analogue modes are offered. 
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Set Input Cfg binary"/></div>
				<div class="text">
					Set the configuration for an  input I1 - I4 for binary use; only the binary modes are offered.<br>
					And it sets also the value for the 'limit'; default is 1500. 
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src="" alt="Set Input Cfg general"/></div>
				<div class="text"> 
					Set the configuratio for an input I1 - I4; all modes are offer.<br>
					The 'limit'  will be set to the default value 1500 mV or 1500 Ohm. 
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src="" alt="Read Input value as integer"/></div>
				<div class="text">
					Read  the value of an input I1 - I4; as integer.<br>
					The result will be 0...65535 for a analogue mode and 0/1 for a binary mode. 
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src="" alt="Read Input value as integer"/></div>
				<div class="text">
					Read  the value of an input I1 - I4 in analogue mode.<br>
					The result will be 0...65535 for a analogue mode. 
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src="" alt="Read Input value as boolean"/></div>
				<div class="text">
					Read the value of an input I1 - I4 in binary mode as an boolean.<br>
					The result will be true or false. 
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src="" alt="Read Input value as integer general"/> </div>
				<div class="text">
					Read  the value of an input I1 - I4; as integer.<br>
					The result will be 0...65535 for a analogue mode and 0/1 for a binary mode. 
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Read actual input status as text" /></div>
				<div class="text">
				Reads the actual status of an input motor as text. Can be use for log or visualisation. 
				</div>
			</div>


			<h2>Blocks to deal with the outputs.</h2>
			<p> </p>
	
			<div class="blockDesc">
				<div class="image"><img src="doSetMotorSpeedDir.png"  alt="Do set motor power and direction"/></div>
				<div class="text">
					Output M1 - M2 can be set to forward or backward, and also give this moter a power between the 0...8 using this block.<br>
					 Values lower than 0 or higher than 8 will not have an effect.
				</div>
			</div>
			
			<div class="blockDesc">
				<div class="image"><img src="doSetMotorDir.png" alt="Do set motor power"/></div>
				<div class="text">
					Output M1 - M2 can be changed, for a motor, to forward (CW), to backward (CCW), non (stop) or reverse using this block.<br> 
					The reverse command wil only work when the motor is already running backward or forward.<br>
					Reversing a motor that does not have a direction makes no sens. 
				</div>
			</div>
						<div class="blockDesc">
				<div class="image"><img src="doSetMotorSpeed.png" alt="Do set motor speed"/></div>
				<div class="text">
					Output M1 - M2 can be set, e.g. for a motor, to a value of 0...8 using this block.<br>  Values lower than 0 or higher than 8 will not have an effect.<br>
					Be aware that a motor with a direction 'non' will not run.

				</div>
			</div>
				
			<div class="blockDesc">
				<div class="image"><img src="doStopMotor.png" alt="Do stop  motor"/></div>
				<div class="text">
					A motor on output M1 - M2 can be stopped using this block. <br> It will set the direction on 'non'.<br>
					The last power will preserved. The motor can be reactivated with a Set direction to forward or backward.
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src="doStopAllMotors.png" alt="Do stop all motors"/></div>
				<div class="text">
					Stops all the motors. 
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Reads actual motor power"/></div>
				<div class="text">
					Reads the actual power on a motor. The result is a integer value. 
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Read actual motor direction as integer"/></div>
				<div class="text">
					Reads the actual direction of a motor. The result is a integer value. <br/>
					-1 or -2 means backwards, <br/>
				 	 1 or  2 means forwards, <br/>
					 0 means non/no direction/stopped. 
				</div>
			</div>
			
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Read actual motor speed as integer" /></div>
				<div class="text">
					Reads the actual speed of a motor; the speed is a combination of power and direction. The result is a integer value. <br/>
					 1...8 means forwards, <br/>
					 0 means stopped or no direction, <br/>
					-1...-8 means backwards. 
				</div>
			</div>
				
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Read actual motor status as text" /></div>
				<div class="text">
				Reads the actual status of a motor as text. <br/> Can be use for log or visualisation. 
				</div>
			</div>

			
			<h2>Notification blocks.</h2>
			<p>Notification block (known inside Schratch as HAT-blocks are used in a project as starting point for a group of actions.<br>
			The system notified the project that a something in the system wil start to change or has been changed.<br>
			These blocks will give you as project developer the change to react on these changes.</p>
			<p>Working with these blocks is also known as event-driven programming. An event (notification) is the triger for a set of actions.</p>
			<h3>Notification blocks (static).</h3>
			
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification sensor rising edge"/></div>
				<div class="text">
				(event driven programming)<br>
				This block gives you the possibility to react on an change from 0 to 1 of of an input in the binary mode.
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification sensor falling edge"/></div>
				<div class="text">			(event driven programming)<br>
				This block gives you the possibility to react on an change from 1 to 0 of an input in the binary mode.
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification motor to forward"/></div>
				<div class="text">
				(event driven programming)<br>
				This block gives you the possibility to react on an change of a motor into the forward direction.
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification motor to backward"/></div>
				<div class="text">
				(event driven programming)<br>
				This block gives you the possibility to react on an change of a motor into the backward direction.
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification motor to non(stop)"/></div>
				<div class="text">
				(event driven programming)<br>
				This block gives you the possibility to react on an change of a motor that stops.
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification connection desconnected"/></div>
				<div class="text">
				(event driven programming)<br>
				This block gives you the possibility to react on an change of the connection state into disconnected.
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification connection connected"/></div>
				<div class="text">
				(event driven programming)<br>
				This block gives you the possibility to react on an change of the connection state into connected.
				</div>
			</div>
			
			
			<h3>Notification blocks</h3>
			<p> These HAT-blocks can only be used ones for each Input or Motor (output). This because of some limitation inside Scratch.   </p>
			</div>
				<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification analogue sensor changed value"/></div>
				<div class="text">
				(event driven programming)<br>
				This block gives you the possibility to react on an change of an input in analogue mode change his value.
				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification sensor changed limit"/></div>
				<div class="text">
				(event driven programming)<br>
				This block gives you the possibility to react on an change of an input change his limit.
				</div>
			</div>
				<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification analogue sensor changed mode"/></div>
				<div class="text">
				(event driven programming)<br>
				This block gives you the possibility to react on an change of an input change his mode.
				</div>
			</div>

			<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification motor changed power"/></div>
				<div class="text">
				(event driven programming)<br>
				This block gives you the possibility to react on an change of a mtor his power.

				</div>
			</div>
			<div class="blockDesc">
				<div class="image"><img src=" " alt="Notification motor changed direction"/></div>
				<div class="text">
				(event driven programming)<br>
				This block gives you the possibility to react on an change of an input change his direction.
				</div>
			</div>

		</section>
		
	</body>

</html>